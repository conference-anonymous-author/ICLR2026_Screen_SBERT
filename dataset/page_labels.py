def generate_page_indices(page2screen_indices):
    page_indices = {}
    for idx, page_class in enumerate(page2screen_indices.keys()):
        page_indices[page_class] = idx

    return page_indices

def generate_screen_idx2page(page2screen_indices):
    screen_idx2page = {}
    for page_class, screen_indices in page2screen_indices.items():
        for screen_idx in screen_indices:
            screen_idx2page[screen_idx] = page_class

    return screen_idx2page

# The numbers in "deleted" are those that were skipped due to mistakes made during manual indexing in the screenshot capturing.

Instagram_page2screen_indices = {
    'Instagram_home': [0, 38, 53, 57, 69, 80, 85, 86, 87, 92, 99, 110, 126, 133, 161, 167], 
    'story_viewer': [1, 2, 3, 16, 17, 18, 21, 23, 25, 27, 29, 30, 56, 115, 116], 
    'add_story': [4], 
    'notifications': [5, 44, 47, 48], 
    'DM_list': [6, 65, 66], 
    'search_home': [7, 50, 113, 124, 130, 153], 
    'post_menu': [8], 
    'add_post': [9, 54, 79, 97, 114, 132, 164], 
    'photo_reels_explore': [10, 52, 74, 75, 76, 78, 82, 103, 104, 129, 163], 
    'other_profile': [11, 19, 24, 31, 43, 46, 49, 51, 58, 59, 60, 68, 72, 111, 119, 123, 135, 150, 152, 165], 
    'my_profile': [12, 55, 81, 112, 137, 144, 145, 146, 147, 155, 162], 
    'story_reply': [14, 20, 26], 
    'share': [15, 22, 28, 102], 
    'story_temporary': [32], 
    'story_add_music': [33], 
    'story_template': [34], 
    'story_multi_photo': [35], 
    'story_select_album': [36], 
    'story_edit_photo': [37, 41, 42], 
    'story_settings': [39], 
    'story_camera': [40, 100], 
    'discover_people': [45, 64, 156], 
    'status_message': [61, 142], 
    'DM_chat': [62, 63, 117], 
    'DM_request': [67], 
    'DM_new': [70], 
    'select_account': [71, 159], 
    'DM_search': [73], 
    'search_profile': [77], 
    'post_QR': [83], 
    'remix': [84], 
    'cutout_sticker': [88], 
    'account_info': [89, 138], 
    'post_info': [90], 
    'report': [91], 
    'post_multi_photo': [93], 
    'post_camera': [94], 
    'post_edit_photo': [95], 
    'post_select_album': [96], 
    'upload_reels': [98, 108], 
    'live': [101], 
    'reels_comment': [105], 
    'reels_filter': [106], 
    'audio_info': [107], 
    'reels_option': [109],
    'following_option': [118],
    'other_profile_option': [120],
    'profile_notifications': [121],
    'post': [122, 125, 128, 134, 140, 157],
    'link_in': [127],
    'following_list': [131, 136, 141, 158, 160],
    'post_list': [139],
    'profile_QR': [143],
    'edit_profile': [148],
    'add_contents': [149],
    'install_thread': [151],
    'profile_settings': [154],
    'favorites': [166],
    #'deleted': [13]
}

X_page2screen_indices = {
    "X_home": [0, 4, 6, 13, 28, 46, 47, 53, 54, 61, 74, 82, 83, 102, 119, 130, 149, 152, 167, 172, 174, 181, 194, 198, 206, 217, 244, 258, 285, 306, 317, 322],
    "X_home_post_added_message": [15, 35, 90, 183, 199],
    "X_home_undo_message": [56],
    "my_profile_menu": [1, 72, 79, 116, 169, 232, 249, 263, 290, 311],
    "premium_subscribe": [2, 66, 80, 117, 170],
    "timeline_settings": [3, 81, 118, 171],
    "Timeline settings 목록?": [78],
    "other_profile": [5, 17, 27, 37, 84, 92, 108, 112, 132, 151, 173, 185, 211,215, 271, 280, 293, 303, 314],
    "Grok": [7, 18, 22, 29, 38, 42, 85, 93, 98, 113, 126, 131, 175, 186, 190,207, 219, 222, 223, 245, 251, 252, 253, 272, 281, 287, 308, 319, 324, 328, 329],
    "post_menu": [8, 19, 30, 39, 86, 94, 114, 120, 134, 176, 187, 273, 282,295],
    "reading_post": [9, 31, 87, 95, 121, 138, 139, 177, 220, 325],
    "photo": [10, 32, 122, 123, 135, 142, 143, 145, 178, 283],
    "add_reply": [11, 33, 88, 136, 146, 155, 160, 163, 164, 165, 179, 274, 296],
    "repost": [12, 34, 89, 137, 147, 180, 275, 297],
    "views": [14, 148, 182, 277, 299],
    "share": [16, 36, 91, 140, 144, 184, 279, 301],
    "add_post": [20, 40, 96, 115, 124, 188, 216, 284, 305],
    "search_home": [21, 41, 97, 125, 189, 235, 236, 237, 238, 259, 286, 307, 318],
    "explore_communities": [23, 43, 99, 127, 191, 246, 260, 266, 267, 268, 269, 276, 278, 309, 320],
    "notifications": [24, 44, 100, 128, 192, 247, 261, 288, 292, 298, 300, 321],
    "DM_lobby": [25, 45, 101, 129, 193, 248, 262, 289, 310],
    "bookmarks": [26, 67],
    "add_list": [48, 55],
    "mute": [49],
    "block": [50, 57],
    "report": [51, 58],
    "community_note": [52, 59],
    "my_profile": [60, 65, 294],
    "change_account": [62],
    "following_list": [63, 111],
    "follower_list": [64],
    "jobs": [68],
    "search_list": [69],
    "spaces": [70],
    "monetization": [71],
    "dark_mode": [73],
    "premium_subscribe_price": [75],
    "search_in_profile": [103, 208],
    "profile_image": [104, 210],
    "send to venmo": [105],
    "DM_chat": [106, 196, 315],
    "subscribe_other": [107, 133],
    "verified account": [109, 212],
    "website": [110, 213],
    "camera": [141],
    "save_photo": [150],
    "select_reply_account": [153],
    "replying to": [154],
    "gallery": [156, 230],
    "search_gif": [157],
    "add_QA": [158],
    "add_location": [159],
    "keyboard_settings": [161],
    "keyboard_menu": [162],
    "select_keyboard": [166],
    "add_annotation_to_comment": [168],
    "view_count_info": [195],
    "share_to_DM": [197],
    "share_more_option": [200],
    "share_to_Instagram": [201],
    "share_to_messege": [202],
    "share_to_gmail": [203],
    "share_to_reddit": [204],
    "share_to_discord": [205],
    "other_profile_option": [209],
    "community_home": [214, 270],
    "Grok_history": [218, 250, 323],
    "Grok_webpage": [221, 327],
    "Grok_typing": [224, 225, 226, 254, 255, 256, 330, 331, 332],
    "upload_file": [227, 257, 333],
    "live": [228],
    "add_space": [229],
    "write_post": [231],
    "search_typing": [233],
    "search_settings": [234],
    "search_results": [240],
    "news": [241, 242, 243],
    "serach_communities": [264],
    "create_community": [265],
    "notification_settings": [291],
    "thread": [302],
    "new_login_alert": [304],
    "search_DM": [312],
    "DM_settings": [313],
    "DM_new_chat": [316],
    "Grok_related_post": [326],
    #"deleted_data": [76, 77, 239]
}

Facebook_page2screen_indices = {
    'Facebook_home': [0, 4, 15, 17, 26, 43, 52, 65, 68, 84, 103, 118, 134, 155, 171, 186, 192, 205, 209, 225, 250, 265, 272, 273, 278, 288, 291],
    'hidden_post_menu': [20, 67, 223, 261, 271, 275, 279, 282, 287],
    'add_content_option': [1, 49, 206, 247, 281],
    'searching_screen_with_keyboard': [2, 35, 36, 38, 39, 40, 41, 50, 129, 150, 207, 248, 266, 289],
    'searching_screen_without_keyboard': [25],
    'chat_list': [3, 51, 208, 249, 290],
    'watching_video': [5, 53, 72, 83, 102, 117, 133, 141, 154, 169, 210, 251, 292],
    'managing_friends': [6, 34, 54, 82, 89, 91, 93, 97, 98, 116, 119, 121, 123, 125, 127, 132, 142, 153, 168, 211, 252, 293],
    'searching_friend': [85],
    'friend_requests': [86],
    'friends_list': [87],
    'my_profile': [7, 10, 32, 55, 58, 81, 101, 113, 131, 135, 152, 164, 165, 202, 212, 215, 253, 256, 294, 297],
    'other_profile': [64, 88, 90, 92, 94, 95, 96, 112],
    'notifications': [8, 56, 80, 100, 115, 151, 167, 213, 254, 295],
    'notification_menu': [120, 122, 124, 126, 128],
    'home_menu': [9, 57, 79, 99, 114, 130, 146, 166, 214, 255, 296],
    'writing_post': [11, 22, 59, 185, 216, 237, 241, 257, 298],
    'select_photo': [12, 60, 178, 217, 258, 299],
    'creating_story': [13, 61, 109, 161, 204, 218, 259, 300],
    'my_story': [14, 31, 62, 219, 260, 301],
    'other_story': [63, 280],
    'group_home': [16, 220, 224, 230, 262, 267],
    'reading_post': [18, 48, 143, 221, 244, 263, 264],
    'post_menu': [19, 66, 222, 245, 246, 269],
    'writing_note': [21, 106, 158],
    'creating_reels': [23, 69],
    'live_camera': [24, 182],
    'search_history': [27],
    'search_result': [28, 29],
    'recent_search_menu': [30, 33],
    'keyboard_settings': [37],
    'chat_room': [42, 47],
    'chat_settings': [44],
    'new_chat': [45],
    'searching_chat': [46],
    'searching_video': [70],
    'video_library': [71],
    'video_comments': [73],
    'sharing_video': [74],
    'sending_video': [75],
    'other_videos': [76],
    'audio': [77],
    'video_menu': [78],
    'select_profile': [104, 136, 156],
    'edit_profile': [105, 110, 157, 162],
    'cover_photo_menu': [107, 159],
    'profile_photo_menu': [108, 160], 
    'profile_settings': [111, 163],
    'create_new_profile': [137],
    'memories': [138],
    'saved': [139],
    'groups': [140],
    'events': [144],
    'gaming': [145],
    'help&support': [147],
    'settings&privacy_dropdown': [148],
    'settings&privacy': [149],
    'select_gif': [170],
    'post_audience': [172],
    'select_album': [173],
    'sharing_to_instagram': [174],
    'sharing_to_thread': [175],
    'AI_label_switch': [176],
    'create_post_menu': [177],
    'tag_people': [179],
    'feeling_or_activity': [180, 240],
    'check_in': [181],
    'create_post_with_keyboard': [183],
    'camera': [184, 188, 191, 196],
    'camera_roll_switch': [187],
    'new_post_select_gallery': [189],
    'story_select_gallery': [198],
    'select_multiple_photos': [190, 238],
    'story_settings': [193],
    'typping_story': [194],
    'search_music': [195],
    'story_collage': [197],
    'create_story_select_multiple': [199],
    'edit_highlight': [201],
    'my_story_menu': [203],
    'search_in_group': [226],
    'group_menu': [227],
    'view_photo': [228],
    'about_group': [229],
    'group_chats': [231],
    'group_reels': [233],
    'group_photos': [234],
    'group_files': [235],
    'my_profile_in_group': [236],
    'other_profile_in_group': [242],
    'anonymous_post': [239],
    'group_admin': [243, 268],
    'web_site': [270],
    'save_post': [274],
    'why_am_I_seeing_this_post?': [276],
    'report_post': [277, 283],
    'content_preferences': [284],
    'google_playstore_ad': [285],
    'ad_menu': [286],
    'group_featured': [232],
    #'deleted_data': [200]
}

Coupang_page2screen_indices = {
    'Coupang_home': [0, 25, 34, 39, 51, 56, 72, 77, 95, 104, 109, 119, 124, 127, 132, 148, 153, 176, 178, 190, 199, 204, 212, 217, 229, 234, 237, 242, 244, 254, 258, 263, 277, 290, 326, 330, 372],
    'event_home': [1, 26, 27, 28, 29, 59, 60, 63, 70, 71, 143, 144, 11, 191, 192, 193, 194, 236, 16, 322, 323, 324],
    'event_products': [184, 245, 246, 247, 248, 249, 17],
    'product_page': [30, 31, 32, 40, 43, 46, 49, 64, 65, 66, 67, 68, 69, 82, 83, 84, 85, 86, 100, 101, 113, 114, 145, 146, 147, 188, 189, 195, 196, 197, 209, 210, 211, 223, 224, 225, 226, 227, 250, 251, 252, 259, 260, 261, 262, 18, 266, 19, 280, 20, 293, 335, 336, 337, 338, 370, 371, 381, 387],
    'product_details': [271, 284, 297],
    'detail_image': [267, 281, 294],
    'added_to_favorites': [268, 282, 295],
    'added_to_cart': [275, 288, 299],
    'checkout': [276, 289, 300, 393],
    'gift_checkout': [269],
    'customer_reviews': [273, 286, 298],
    'price_guide': [274, 287],
    'sharing_menu': [33, 98, 126, 198, 253],
    'share_without_rewards': [228, 270, 283, 296],
    'category_set': [35, 52, 73, 105, 120, 128, 149, 200, 213, 230, 238, 255, 21, 306, 307, 308, 309, 310, 311, 312, 313, 314, 373],
    'subcategory': [315, 316, 317, 318, 319, 320, 321],
    'gift_set_hall': [325],
    'search_page': [36, 53, 74, 106, 121, 129, 150, 201, 214, 231, 239, 256, 327, 22, 332, 374],
    'entering_search_keyword': [4, 78, 79, 88, 90, 91, 92, 93, 135, 177, 220, 235, 264, 278, 291, 331],
    'my_page': [37, 54, 75, 107, 122, 130, 151, 202, 215, 232, 240, 257, 328, 23],
    'my_account': [361],
    'coupay': [362],
    'coupang_cash': [363],
    'total_saved': [364],
    'my_orders': [365],
    'favorites': [366, 377],
    'cart': [38, 55, 76, 108, 123, 131, 152, 179, 203, 216, 233, 241, 265, 279, 292, 329, 375, 24, 378, 379, 380, 382, 384, 385, 386, 388, 390],
    'edit_quantity': [383, 389],
    'estimated_order_amount': [391, 392],
    'recently_viewed': [2, 41, 42, 44, 45, 47, 48, 50, 367],
    'notification_center': [3, 57, 58],
    'wow_membership_zone': [61, 62],
    'recent_search_menu': [80, 333],
    'search_results': [81, 136, 137, 138, 139, 140, 141, 334, 340, 341, 342, 343, 344, 345, 346, 347, 348, 349, 350, 351, 352, 353, 354, 355, 356, 357, 358, 359, 360],
    'information_popup': [87, 339],
    'keyboard_settings': [89],
    'brand_shop_home': [5, 103, 285],
    'brand_shop_search': [96],
    'subscribe_brand_shop': [97],
    'brand_shop_products': [99, 102, 142],
    'frequently_bought_home': [6, 111, 112, 117, 368, 376],
    'search_frequently_bought': [110],
    'remove_frequently_bought': [115, 116, 118],
    'coupang_play_ad': [7], 
    'coupang_play_home': [125],
    'rocket_fresh_home': [8, 304],
    'rocket_fresh_products': [133, 134],
    'coupang_eats_home': [9, 155, 305],
    'my_eats': [154],
    'set_location': [156, 157],
    'coupang_eats_search': [158, 175],
    'coupang_eats_order_history': [159],
    'coupang_eats_subcategory': [160, 161, 162, 163, 164, 165, 166, 167, 168],
    'coupang_eats_category_set': [169],
    'coupang_eats_wow_discount': [170, 171],
    'coupang_eats_sort_option': [172],
    'coupang_eats_filter_option': [173],
    'coupang_eats_cart': [174],
    'gold_box': [10, 185, 186, 187, 205],
    'flash_sales': [180, 12],
    'flash_sales_coupon': [208],
    'warehouse_deals': [181, 206],
    'my_discounts': [182, 207, 301],
    'seller_deals': [183],
    'rocket_overseas_home': [13, 303],
    'rocket_overseas_products': [218, 219],
    'rocket_overseas_gift': [221],
    'rocket_overseas_hot_deals': [222],
    'brand_event_home': [14],
    'wow_card_ad': [15, 369],
    'wow_card_benefits': [243],
    'coupang_basic_home': [272],
    'rocket_delivery_home': [302],
    #'deleted_data': [94]
}

Amazon_page2screen_indices = {
    'Amazon_home': [0, 10, 30, 48, 53, 70, 79, 83, 87, 100, 117, 122, 125],
    'my_page': [49, 71, 84, 7, 118, 123],
    'cart': [50, 72, 85, 101, 8, 108, 109, 110, 111, 113, 115, 124],
    'hamburger_menu': [51, 73, 86, 102, 119, 9],
    'rufus_ai': [52, 74, 6, 80, 81, 103, 112, 126],
    'rufus_voice': [82],
    'search_screen': [1, 16, 17, 18, 19, 20, 22, 23, 24, 25, 31, 75, 88, 104],
    'camera': [11, 2, 26, 29, 32, 54, 76, 89, 105],
    'voice_search': [12, 3, 33, 55, 77, 90, 106],
    'search_results': [13, 14, 15, 28],
    'keyboard_settings': [21],
    'keep_shoping_for': [4, 34, 35, 36, 38, 39, 40, 41],
    'product_page': [37, 46, 47, 60, 68, 69, 107, 116],
    'filters': [42, 43, 44, 45, 64, 65, 66, 67], 
    'explore': [5, 56, 57, 58, 59, 127, 61, 62, 63],
    'free_international_delivery': [78],
    'notifications': [91],
    'country_settings': [92],
    'your_orders': [93],
    'interests_ai': [94, 98, 99],
    'orders_menu': [95],
    'lists_and_registries': [96],
    'buy_again': [97, 121],
    'compare_with_similar': [114],
    'shop_by_category': [120],
    #'deleted_data': [27]
}

Temu_page2screen_indices = {
    'Temu_home': [0, 2, 29, 34, 67, 89, 112, 117, 135, 137, 202, 161, 174, 187, 218, 232, 240, 261, 280, 328, 333, 350, 370, 391, 408, 436, 473, 156, 490],
    'search_typing': [1, 5, 21, 23, 24, 25, 26, 36, 54, 94, 335, 352, 392, 409],
    'photo_menu': [3, 28, 37, 55, 72, 95, 297, 371, 393, 410, 440],
    'search_results': [4, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 27, 33, 45, 46, 47, 56, 73, 96, 118, 298, 311, 312, 313, 314, 315, 316, 317, 318, 319, 320, 321, 322, 323, 324, 325, 326, 327, 372, 373, 374, 375, 376, 377, 394, 395, 396, 397, 398, 399, 411, 441, 456, 457, 458, 459, 460, 461, 462, 463, 464, 465, 466, 467, 468, 469, 470, 471, 472],
    'product_page': [48, 49, 50, 51, 65, 66, 84, 85, 86, 87, 88, 108, 109, 110, 111, 120, 121, 122, 126, 127, 128, 212, 213, 169, 170, 183, 184, 197, 198, 228, 284, 285, 286, 288, 289, 290, 292, 293, 294, 344, 345, 364, 365, 385, 386, 387, 388, 407, 482, 494, 487], 
    'select_options': [129, 130, 214, 215, 171, 199, 229, 243, 244, 245, 254, 255, 256, 257, 277, 278, 258, 259, 265, 266, 267, 268, 269, 270, 346, 347, 366, 367],
    'category_home': [68, 90, 113, 296, 301, 302, 303, 304, 305, 306, 307, 308, 309, 329, 427, 437, 439, 445, 446, 447, 448, 449, 450, 451, 452, 453, 454, 474, 157, 491],
    'my_page': [69, 91, 114, 330, 475, 140, 158, 492],
    'profile': [141],
    'support': [142],
    'settings': [143],
    'credit_balance': [144],
    'coupons': [145],
    'your_orders': [146],
    'messages': [147],
    'your_reviews': [148],
    'video_gallery': [149],
    'addresses': [152],
    'followed_stores': [153],
    'cart': [52, 70, 92, 115, 131, 216, 172, 185, 200, 230, 331, 389, 438, 476, 159, 477, 478, 479, 481, 483, 484, 495],
    'free_shipping': [480],
    'select_quantity': [493, 485],
    'price_details': [488],
    'add_an_address': [489],
    'sub_category': [53, 57, 58, 61, 62, 63, 64, 71, 74, 75, 76, 77, 80, 81, 82, 83, 93, 97, 98, 99, 100, 101, 104, 105, 106, 107, 369, 390, 412, 413, 414, 415, 416, 417, 430, 431],
    'browsing_history': [17, 18, 19, 20, 150],
    'filters': [38, 378, 400],
    'sort_by': [39, 379, 401],
    'category_filter': [40, 380, 402],
    'size_filter': [41, 381],
    'color_filter': [42, 382, 403],
    'material_filter': [404],
    'available_offers': [43, 44, 59, 60, 78, 79, 102, 103, 134, 210, 211, 167, 168, 181, 182, 195, 196, 226, 227, 299, 300, 383, 384, 405, 406, 419, 442, 443, 444, 154, 155],
    'event_sale': [116, 123, 124, 125, 418],
    'share_to': [119, 336, 353],
    'top-selling_deals': [132],
    'featured_deals': [310, 455],
    'lightning_deals': [133, 201, 208, 209, 160, 165, 166, 173, 179, 180, 186, 193, 194, 217, 224, 225, 421, 422, 423, 424, 425],
    'exclusive_offer': [203, 204, 205, 206, 207, 162, 163, 164, 175, 176, 177, 178, 188, 189, 190, 191, 192, 219, 220, 221, 222, 223],
    'why_choose_temu': [136, 138, 139, 420, 486],
    'game_home': [231, 432, 151],
    'invite_friends_home': [233, 234, 239, 260, 433, 435],
    'invite_friends_rules': [241, 262],
    'invite_friends_search': [242],
    'picked_gifts': [246, 247, 248, 249, 250, 271, 272, 273, 274, 275], 
    'invite_friends_coin': [251, 263, 264, 276],
    'farmland': [235, 236, 252, 434],
    'farmland_rules': [253],
    'fishland': [237, 238],
    'recommended_stores': [279, 426],
    'bestselling_stores': [281, 282],
    'store_page': [283, 287, 291, 295, 332, 338, 343, 349, 355, 361, 362, 363, 428, 429],
    'store_event_deals': [340, 358, 359],
    'store_categories': [341, 360],
    'store_reviews': [342],
    'store_information': [334, 351],
    'sold_?': [337, 354],
    'star_seller': [339, 357],
    'top_items_from_store': [348, 368],
    'keyboard_settings': [22],
    'album': [30],
    'camera': [31],
    'photo_history': [32],
    'edit_search_keyword': [35],
    #'deleted_data': [356]
}

page2screen_indices_dict = {
    "Instagram": Instagram_page2screen_indices,
    "Facebook": Facebook_page2screen_indices,
    "X": X_page2screen_indices,
    "Amazon": Amazon_page2screen_indices,
    "Coupang": Coupang_page2screen_indices,
    "Temu": Temu_page2screen_indices
}

page_indices_dict = {
    "Instagram": generate_page_indices(Instagram_page2screen_indices),
    "Facebook": generate_page_indices(Facebook_page2screen_indices),
    "X": generate_page_indices(X_page2screen_indices),
    "Amazon": generate_page_indices(Amazon_page2screen_indices),
    "Coupang": generate_page_indices(Coupang_page2screen_indices),
    "Temu": generate_page_indices(Temu_page2screen_indices)
}

screen_idx2page_dict = {
    "Instagram": generate_screen_idx2page(Instagram_page2screen_indices),
    "Facebook": generate_screen_idx2page(Facebook_page2screen_indices),
    "X": generate_screen_idx2page(X_page2screen_indices),
    "Amazon": generate_screen_idx2page(Amazon_page2screen_indices),
    "Coupang": generate_screen_idx2page(Coupang_page2screen_indices),
    "Temu": generate_screen_idx2page(Temu_page2screen_indices)
}